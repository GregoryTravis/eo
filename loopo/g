#rm -f nonblocking
#gcc -o nonblocking src/nonblocking.c -lportaudio && ./nonblocking
#exit

#(stack build && . input | (stack exec loopo loop*.wav)) 2>&1 | tee out
loops=~/proj/beetz/jbprofile/loop1?.wav
loops=loop?.wav
loops="loop4?.wav loop5?.wav loop3?.wav"
#loops='loop2.wav loop3.wav'
#loops='loop3.wav loop2.wav'
#loops='loop2.wav'
echo $loops

(stack build --library-profiling --executable-profiling --ghc-options '-O0 -rtsopts -Werror -ferror-spans -fprof-auto -fprof-cafs' && \
 . input | (stack exec -- loopo $loops +RTS -xc)) 2>&1 | tee out

#(stack build && receivemidi dev "US-122 MKII MIDI" | (stack exec loopo $loops)) 2>&1 | tee out
#(stack build && . input | (stack exec loopo $loops)) 2>&1 | tee out
#stack build && stack exec loopo
